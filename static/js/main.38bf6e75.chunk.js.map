{"version":3,"sources":["components/Map.js","components/Header.tsx","images/icon-arrow.svg","components/SearchBar.tsx","components/DataSection.tsx","App.tsx","index.js"],"names":["Map","pos","MyComponent","useMap","setView","MapContainer","style","height","center","zoom","scrollWheelZoom","TileLayer","attribution","url","Marker","position","Header","className","SearchBar","searchFunction","React","useState","userInput","setUserInput","error","setError","type","placeholder","value","onChange","e","target","onClick","match","src","ArrowImg","alt","DataSection","data","isp","timezone","location","ip","App","long","setLong","lat","setLat","setData","useEffect","search","ipAddress","a","fetch","process","userIp","json","userIpJson","lng","region","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8PAGe,SAASA,EAAT,GAAuB,IAARC,EAAO,EAAPA,IAC5B,SAASC,IAGP,OAFYC,cACRC,QAAQH,GACL,KAGT,OACE,eAACI,EAAA,EAAD,CACEC,MAAO,CAAEC,OAAQ,QACjBC,OAAQP,EACRQ,KAAM,GACNC,iBAAiB,EAJnB,UAKE,cAACR,EAAD,IACA,cAACS,EAAA,EAAD,CACEC,YAAY,yEACZC,IAAI,uDAEN,cAACC,EAAA,EAAD,CAAQC,SAAUd,O,MCnBT,SAASe,IACtB,OACE,qBAAKC,UAAU,cAAc,YAAU,SAAvC,SACE,mBAAG,YAAU,QAAQA,UAAU,+BAA/B,kCCLS,UAA0B,uCCO1B,SAASC,EAAT,GAA+C,IAA1BC,EAAyB,EAAzBA,eAClC,EAAkCC,IAAMC,SAAS,IAAjD,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA0BH,IAAMC,SAAS,IAAzC,mBAAOG,EAAP,KAAcC,EAAd,KAaA,OACE,qCACE,sBAAK,YAAU,aAAaR,UAAU,kBAAtC,UACE,uBACE,YAAU,QACVA,UAAU,aACVS,KAAK,OACLC,YAAY,sCACZC,MAAON,EACPO,SAAU,SAACC,GAAD,OAAOP,EAAaO,EAAEC,OAAOH,UAEzC,qBACE,YAAU,gBACVX,UAAU,qBACVe,QAAS,WAtBXV,EAAUW,MADZ,gGAEAR,EAAS,IACTN,EAAeG,IAEfG,EAAS,iDAeP,SAIE,qBAAKS,IAAKC,EAAUC,IAAI,UAG3BZ,GACC,mBAAGP,UAAU,aAAa,YAAU,QAApC,SACGO,OC/BI,SAASa,EAAT,GAAuC,IAAhBC,EAAe,EAAfA,KAC9BC,EAAgCD,EAAhCC,IAAKC,EAA2BF,EAA3BE,SAAUC,EAAiBH,EAAjBG,SAAUC,EAAOJ,EAAPI,GAC/B,OACE,sBAAK,YAAU,eAAezB,UAAU,oBAAxC,UACE,sBAAKA,UAAU,sBAAf,UACE,qBAAKA,UAAU,oBAAf,wBACA,qBAAKA,UAAU,iBAAiB,YAAU,UAA1C,SACGyB,GAAMA,OAGX,sBAAKzB,UAAU,sBAAf,UACE,qBAAKA,UAAU,oBAAf,sBACA,qBAAKA,UAAU,iBAAiB,YAAU,WAA1C,SACGwB,GAAYA,OAGjB,sBAAKxB,UAAU,sBAAf,UACE,qBAAKA,UAAU,oBAAf,sBACA,qBAAKA,UAAU,iBAAiB,YAAU,WAA1C,SACGuB,GAAYA,OAGjB,sBAAKvB,UAAU,sBAAf,UACE,qBAAKA,UAAU,oBAAf,iBACA,qBAAKA,UAAU,iBAAiB,YAAU,MAA1C,SACGsB,GAAOA,UCuBHI,MA7Cf,WACE,MAAwBtB,mBAAS,GAAjC,mBAAOuB,EAAP,KAAaC,EAAb,KACA,EAAsBxB,mBAAS,IAA/B,mBAAOyB,EAAP,KAAYC,EAAZ,KACA,EAAwB1B,mBAAuB,MAA/C,mBAAOiB,EAAP,KAAaU,EAAb,KAEAC,qBAAU,WACRC,EAAO,QACN,IAEH,IAAMA,EAAM,uCAAG,WAAOC,GAAP,+BAAAC,EAAA,mEAGPD,EAHO,gCAIIE,MAAM,uCAAD,OACuBC,mCADvB,sBACkEH,IAL3E,OAITb,EAJS,8CAQUe,MAAM,qCARhB,cAQLE,EARK,iBAS8BA,EAAOC,OATrC,eASLC,EATK,iBAUIJ,MAAM,uCAAD,OACuBC,mCADvB,sBACkEG,EAAWf,KAXtF,QAUTJ,EAVS,gCAcEA,EAAKkB,OAdP,QAcXlB,EAdW,SAekBA,EAAKG,SAA5BK,EAfK,EAeLA,IAAKY,EAfA,EAeAA,IAAKlB,EAfL,EAeKA,SACZE,EAAKJ,EAAKI,GACVH,EAAMD,EAAKC,IACfS,EAAQ,CAAER,WAAUD,MAAKG,KAAID,SAAUH,EAAKG,SAASkB,SACrDd,EAAQa,GACRX,EAAOD,GApBI,kDAsBXc,QAAQC,IAAR,MAtBW,0DAAH,sDA0BZ,OACE,sBAAK5C,UAAU,MAAf,UACE,cAACC,EAAD,CAAWC,eAAgB+B,IAC1BZ,GAAQ,cAACD,EAAD,CAAaC,KAAMA,IAC5B,cAACtB,EAAD,IACA,cAAChB,EAAD,CAAKC,IAAK,CAAC6C,EAAKF,SClDtBkB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.38bf6e75.chunk.js","sourcesContent":["import React from 'react';\nimport { MapContainer, TileLayer, Marker, useMap } from 'react-leaflet';\n\nexport default function Map({ pos }) {\n  function MyComponent() {\n    const map = useMap();\n    map.setView(pos);\n    return null;\n  }\n\n  return (\n    <MapContainer\n      style={{ height: '80vh' }}\n      center={pos}\n      zoom={20}\n      scrollWheelZoom={false}>\n      <MyComponent />\n      <TileLayer\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        url='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n      />\n      <Marker position={pos}></Marker>\n    </MapContainer>\n  );\n}\n","import React from 'react';\n\nexport default function Header() {\n  return (\n    <div className='app__header' data-test='header'>\n      <p data-test='title' className='app__title app__title--white'>\n        IP Address Tracker\n      </p>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/icon-arrow.2eaaa5ee.svg\";","import React from 'react';\nimport ArrowImg from '../images/icon-arrow.svg';\n\ninterface Props {\n  searchFunction(search: string): void;\n}\n\nexport default function SearchBar({ searchFunction }: Props) {\n  const [userInput, setUserInput] = React.useState('');\n  const [error, setError] = React.useState('');\n\n  const submit = () => {\n    const re =\n      /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n    if (userInput.match(re)) {\n      setError('');\n      searchFunction(userInput);\n    } else {\n      setError('Please enter a valid id address ie 1.32.2.65');\n    }\n  };\n\n  return (\n    <>\n      <div data-test='search-bar' className='app__search-bar'>\n        <input\n          data-test='input'\n          className='app__input'\n          type='text'\n          placeholder='Search for any IP address or domain'\n          value={userInput}\n          onChange={(e) => setUserInput(e.target.value)}\n        />\n        <div\n          data-test='search-button'\n          className='app__search-button'\n          onClick={() => submit()}>\n          <img src={ArrowImg} alt='' />\n        </div>\n      </div>\n      {error && (\n        <p className='app__error' data-test='error'>\n          {error}\n        </p>\n      )}\n    </>\n  );\n}\n","import React from 'react';\n\ninterface Props {\n  data: {\n    isp: string;\n    timezone: string;\n    location: string;\n    ip: string;\n  };\n}\n\nexport default function DataSection({ data }: Props) {\n  let { isp, timezone, location, ip } = data;\n  return (\n    <div data-test='data-section' className='app__data-section'>\n      <div className='app__data-container'>\n        <div className='app__data-heading'>IP ADDRESS</div>\n        <div className='app__data-copy' data-test='address'>\n          {ip && ip}\n        </div>\n      </div>\n      <div className='app__data-container'>\n        <div className='app__data-heading'>LOCATION</div>\n        <div className='app__data-copy' data-test='location'>\n          {location && location}\n        </div>\n      </div>\n      <div className='app__data-container'>\n        <div className='app__data-heading'>TIMEZONE</div>\n        <div className='app__data-copy' data-test='timezone'>\n          {timezone && timezone}\n        </div>\n      </div>\n      <div className='app__data-container'>\n        <div className='app__data-heading'>ISP</div>\n        <div className='app__data-copy' data-test='isp'>\n          {isp && isp}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport Map from './components/Map';\nimport './App.scss';\nimport Header from './components/Header';\nimport SearchBar from './components/SearchBar';\nimport DataSection from './components/DataSection';\n\ninterface Props {\n  isp: string;\n  timezone: string;\n  location: string;\n  ip: string;\n}\n\nfunction App() {\n  const [long, setLong] = useState(2);\n  const [lat, setLat] = useState(48);\n  const [data, setData] = useState<null | Props>(null);\n\n  useEffect(() => {\n    search(null);\n  }, []);\n\n  const search = async (ipAddress: string | null) => {\n    try {\n      let data;\n      if (ipAddress) {\n        data = await fetch(\n          `https://geo.ipify.org/api/v1?apiKey=${process.env.REACT_APP_API_KEY}&ipAddress=${ipAddress}`\n        );\n      } else {\n        let userIp = await fetch('https://api.ipify.org?format=json');\n        let userIpJson: { ip: string } = await userIp.json();\n        data = await fetch(\n          `https://geo.ipify.org/api/v1?apiKey=${process.env.REACT_APP_API_KEY}&ipAddress=${userIpJson.ip}`\n        );\n      }\n      data = await data.json();\n      let { lat, lng, timezone } = data.location;\n      let ip = data.ip;\n      let isp = data.isp;\n      setData({ timezone, isp, ip, location: data.location.region });\n      setLong(lng);\n      setLat(lat);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div className='app'>\n      <SearchBar searchFunction={search} />\n      {data && <DataSection data={data} />}\n      <Header />\n      <Map pos={[lat, long]} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}